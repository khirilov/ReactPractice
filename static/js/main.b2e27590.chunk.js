(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[0],{26:function(t,e,c){},33:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),a=c(20),r=c.n(a),o=c(4),i=(c(26),c(9)),j=Object(n.createContext)(null),l=c(0),u=function(){var t=Object(n.useContext)(j),e=t.isAuth,c=t.setIsAuth;return Object(l.jsx)("nav",{className:"nav-extended teal",children:Object(l.jsx)("div",{className:"nav-content",children:Object(l.jsxs)("ul",{className:"tabs tabs-transparent",children:[e&&Object(l.jsx)("li",{className:"tab",onClick:function(){c(!1),localStorage.removeItem("auth")},children:"Log Out"}),Object(l.jsx)("li",{className:"tab",children:Object(l.jsx)(i.b,{to:"/posts",children:"Posts Page"})}),Object(l.jsx)("li",{className:"tab",children:Object(l.jsx)(i.b,{to:"/about",children:"About Page"})})]})})})},b=c(2),d=function(){return Object(l.jsx)("h1",{children:"There is no page you search"})},O=c(14),h=c(5);function p(t){var e=Object(b.g)();return Object(l.jsxs)("div",{className:"post",children:[Object(l.jsxs)("div",{className:"post_content",children:[Object(l.jsxs)("strong",{children:[Object(l.jsxs)("span",{children:[t.id,". "]}),t.title]}),Object(l.jsx)("p",{children:t.body})]}),Object(l.jsxs)("div",{className:"post_action",children:[Object(l.jsx)("button",{className:"btn",onClick:function(){return e.push("/posts/".concat(t.id))},children:"Open"}),Object(l.jsx)("button",{className:"btn",onClick:function(){return t.delPost(t)},children:"Delete"})]})]})}function x(t){var e=t.array,c=t.delPost;return e.length?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Post List"}),e.map((function(t,e){return Object(l.jsx)(p,Object(h.a)(Object(h.a)({},t),{},{delPost:c}),t.id)}))]}):Object(l.jsx)("h3",{children:"Didnt found any posts"})}function f(t){var e=t.create,c=Object(n.useState)({title:"",body:""}),s=Object(o.a)(c,2),a=s[0],r=s[1];return Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{value:a.title,placeholder:"title",onChange:function(t){return r(Object(h.a)(Object(h.a)({},a),{},{title:t.target.value}))}}),Object(l.jsx)("input",{value:a.body,placeholder:"description",onChange:function(t){return r(Object(h.a)(Object(h.a)({},a),{},{body:t.target.value}))}}),Object(l.jsx)("button",{onClick:function(t){t.preventDefault();var c=Object(h.a)(Object(h.a)({},a),{},{id:Date.now()});e(c),r({title:"",body:""})},children:"Create"})]})}function m(t){var e=t.defaultValue,c=t.options,n=t.value,s=t.onChange;return Object(l.jsxs)("select",{name:"filter",size:"4",className:"input-field col s12",value:n,onChange:function(t){return s(t.target.value)},children:[Object(l.jsx)("option",{disabled:!0,value:"disabled",children:e}),c.map((function(t,e){return Object(l.jsx)("option",{value:t.value,children:t.name},e)}))]})}function v(t){var e=t.filter,c=t.setFilter;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{placeholder:"search",value:e.query,onChange:function(t){return c(Object(h.a)(Object(h.a)({},e),{},{query:t.target.value}))}}),Object(l.jsx)(m,{value:e.sort,onChange:function(t){return c(Object(h.a)(Object(h.a)({},e),{},{sort:t}))},defaultValue:"filter",options:[{value:"title",name:"By name"},{value:"info",name:"By info"}]})]})}function g(t){var e=t.children,c=t.isActive,n=t.setActive,s="modalWin";return c&&(s+=" modalActive"),Object(l.jsx)("div",{className:s,onClick:function(t){return n(!1)},children:Object(l.jsx)("div",{className:"modalContent",onClick:function(t){return t.stopPropagation()},children:e})})}var C=function(t,e,c){var s=function(t,e){return Object(n.useMemo)((function(){return e?Object(O.a)(t).sort((function(t,c){return t[e].localeCompare(c[e])})):t}),[e,t])}(e,c);return Object(n.useMemo)((function(){return s.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}))}),[s,t])};function y(){return Object(l.jsx)("div",{className:"progress",children:Object(l.jsx)("div",{className:"indeterminate"})})}var N=function(t){for(var e=t.totalPages,c=t.setPage,n=[],s=1;s<=e;s++)n.push(s);return Object(l.jsx)("div",{className:"pagesWrapper",children:n.map((function(t){return Object(l.jsx)("button",{className:"btn",onClick:function(){c(t)},children:t},t)}))})};var P=[{path:"/login",component:function(){var t=Object(n.useContext)(j),e=(t.isAuth,t.setIsAuth);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Login Page"}),Object(l.jsxs)("form",{onClick:function(t){t.preventDefault(),e(!0),localStorage.setItem("auth","true")},children:[Object(l.jsx)("input",{type:"text",placeholder:"login"}),Object(l.jsx)("input",{type:"password",placeholder:"password"}),Object(l.jsx)("button",{className:"btn",children:"log in"})]})]})},exact:!0}],S=[{path:"/posts",component:function(){var t=Object(n.useState)([]),e=Object(o.a)(t,2),c=e[0],s=e[1],a=Object(n.useState)({sort:"",query:""}),r=Object(o.a)(a,2),i=r[0],j=r[1],u=Object(n.useState)(!1),b=Object(o.a)(u,2),d=b[0],h=b[1],p=Object(n.useState)(0),m=Object(o.a)(p,2),P=m[0],S=m[1],A=Object(n.useState)(!1),k=Object(o.a)(A,2),w=k[0],I=k[1],L=Object(n.useState)(10),F=Object(o.a)(L,2),D=F[0],q=(F[1],Object(n.useState)(1)),E=Object(o.a)(q,2),M=E[0],_=E[1],B=C(i.query,c,i.sort);Object(n.useEffect)((function(){I(!0),T(D,M)}),[M]);var T=function(t,e){fetch("https://jsonplaceholder.typicode.com/posts?_limit=".concat(t,"&_page=").concat(e)).then((function(e){var c=e.headers.get("x-total-count");return S(Math.ceil(c/t)),e.json()})).then((function(t){s(t),I(!1)}))};return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(g,{isActive:d,setActive:h,children:Object(l.jsx)(f,{create:function(t){s([].concat(Object(O.a)(c),[t])),h(!1)}})}),Object(l.jsx)(v,{filter:i,setFilter:j}),Object(l.jsx)("button",{className:"btn",onClick:function(){return h(!0)},children:"Create Post"}),w?Object(l.jsx)(y,{}):Object(l.jsx)(x,{array:B,delPost:function(t){s(c.filter((function(e){return e.id!==t.id})))}}),Object(l.jsx)(N,{setPage:_,totalPages:P})]})},exact:!0},{path:"/about",component:function(){return Object(l.jsx)("h1",{children:"This is the place there I can practice my React skills."})},exact:!0},{path:"/posts/:id",component:function(){var t=Object(b.h)(),e=Object(n.useState)({}),c=Object(o.a)(e,2),s=c[0],a=c[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),j=i[0],u=i[1],d=Object(n.useState)([]),O=Object(o.a)(d,2),h=O[0],p=O[1];return Object(n.useEffect)((function(){u(!0),fetch("https://jsonplaceholder.typicode.com/posts/".concat(t.id)).then((function(t){return t.json()})).then((function(t){a(t)})),fetch("https://jsonplaceholder.typicode.com/posts/".concat(t.id,"/comments")).then((function(t){return t.json()})).then((function(t){p(t),console.log(t),u(!1)}))}),[]),Object(l.jsx)("div",{children:j?Object(l.jsx)(y,{}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h1",{children:["This is Post page with id ",s.id]}),Object(l.jsx)("div",{children:s.body}),Object(l.jsx)("h3",{children:"Comments"}),Object(l.jsx)("div",{children:h.map((function(t){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h5",{children:t.email}),Object(l.jsx)("p",{children:t.body})]},t.id)}))})]})})},exact:!0}],A=function(){var t=Object(n.useContext)(j),e=t.isAuth;return t.isLoading?Object(l.jsx)(y,{}):Object(l.jsxs)(l.Fragment,{children:[e?Object(l.jsxs)(b.d,{children:[S.map((function(t){return Object(l.jsx)(b.b,{path:t.path,component:t.component,exact:t.exact},t.path)})),Object(l.jsx)(b.a,{to:"/posts"})]}):Object(l.jsxs)(b.d,{children:[P.map((function(t){return Object(l.jsx)(b.b,{path:t.path,component:t.component,exact:t.exact},t.path)})),Object(l.jsx)(b.a,{to:"/login"})]}),Object(l.jsx)(b.b,{path:"/error",component:d})]})};function k(){var t=Object(n.useState)(!1),e=Object(o.a)(t,2),c=e[0],s=e[1],a=Object(n.useState)(!0),r=Object(o.a)(a,2),b=r[0],d=r[1];return Object(n.useEffect)((function(){localStorage.getItem("auth")&&s(!0),d(!1)}),[]),Object(l.jsx)(j.Provider,{value:{isAuth:c,setIsAuth:s,isLoading:b},children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(u,{}),Object(l.jsx)(A,{})]})})}r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b2e27590.chunk.js.map